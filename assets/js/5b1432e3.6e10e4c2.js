"use strict";(self.webpackChunknaptha_docs=self.webpackChunknaptha_docs||[]).push([[2090],{6037:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=t(4848),r=t(8453);const o={sidebar_label:"Inference Client"},i="Inference Client",s={id:"NapthaInference/inference",title:"Inference Client",description:"One of the main functions of a Naptha Module is to access model inference. Naptha Nodes run inference locally on your hardware, and can do so via the Naptha Inference API. The key advantage of using Naptha Nodes for inference is that the inference runs locally and is completely private.",source:"@site/docs/NapthaInference/0-inference.md",sourceDirName:"NapthaInference",slug:"/NapthaInference/inference",permalink:"/NapthaInference/inference",draft:!1,unlisted:!1,editUrl:"https://github.com/NapthaAI/docs/tree/main/docs/NapthaInference/0-inference.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_label:"Inference Client"},sidebar:"docs",previous:{title:"Install Node",permalink:"/NapthaNodes/run"},next:{title:"Storage Provider",permalink:"/NapthaStorage/overview"}},c={},l=[{value:"Need Help?",id:"need-help",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"inference-client",children:"Inference Client"})}),"\n",(0,a.jsx)(n.p,{children:"One of the main functions of a Naptha Module is to access model inference. Naptha Nodes run inference locally on your hardware, and can do so via the Naptha Inference API. The key advantage of using Naptha Nodes for inference is that the inference runs locally and is completely private."}),"\n",(0,a.jsxs)(n.p,{children:["Naptha Modules can import the ",(0,a.jsx)(n.code,{children:"InferenceClient"})," class from the ",(0,a.jsx)(n.code,{children:"naptha_sdk.inference"})," module to interact with the inference provider."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import asyncio\nfrom naptha_sdk.schemas import NodeConfigUser\nfrom naptha_sdk.inference import InferenceClient\n\n# Configure your node connection\nnode = NodeConfigUser(ip="node.naptha.ai", http_port=7001, server_type="http")\ninference_client = InferenceClient(node)\n\n# Prepare your messages\nmessages = [\n    {"role": "system", "content": "You are a helpful assistant."},\n    {"role": "user", "content": "What is the capital of France?"}\n]\n\n# Run inference\nresponse = asyncio.run(inference_client.run_inference({\n    "model": "phi3:mini", # The model to use for inference\n    "messages": messages,\n    "temperature": 0.5,\n    "max_tokens": 1000\n}))\n                                          \n# Extract the response\ncontent = response[\'choices\'][0][\'message\'][\'content\']\nprint("Output: ", content)\n'})}),"\n",(0,a.jsxs)(n.p,{children:["You can also run inference on a node using the ",(0,a.jsx)(n.code,{children:"naptha inference"})," CLI command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Format: naptha inference "<prompt>" -m "<model_name>"\nnaptha inference "How can we create scaling laws for multi-agent systems?" -m "phi3:mini"\n'})}),"\n",(0,a.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Join our ",(0,a.jsx)(n.a,{href:"https://naptha.ai/naptha-community",children:"Community"})]}),"\n",(0,a.jsxs)(n.li,{children:["Submit issues on ",(0,a.jsx)(n.a,{href:"https://github.com/NapthaAI",children:"GitHub"})]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var a=t(6540);const r={},o=a.createContext(r);function i(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);