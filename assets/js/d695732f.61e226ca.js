"use strict";(self.webpackChunknaptha_docs=self.webpackChunknaptha_docs||[]).push([[8265],{6230:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>h});var s=t(4848),a=t(8453);const r={title:"Install Node"},o=void 0,i={id:"NapthaNodes/run",title:"Install Node",description:"Quick Start",source:"@site/docs/NapthaNodes/1-run.md",sourceDirName:"NapthaNodes",slug:"/NapthaNodes/run",permalink:"/NapthaNodes/run",draft:!1,unlisted:!1,editUrl:"https://github.com/NapthaAI/docs/tree/main/docs/NapthaNodes/1-run.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Install Node"},sidebar:"docs",previous:{title:"Naptha Nodes",permalink:"/NapthaNodes/what-are-nodes"},next:{title:"Inference Client",permalink:"/NapthaInference/inference"}},l={},h=[{value:"Quick Start",id:"quick-start",level:2},{value:"First Launch Setup",id:"first-launch-setup",level:3},{value:"Verify Installation",id:"verify-installation",level:3},{value:"Check Server Status",id:"check-server-status",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Worker Logs",id:"worker-logs",level:3},{value:"Managing Your Node",id:"managing-your-node",level:2},{value:"Stopping the Node",id:"stopping-the-node",level:3},{value:"Cleanup",id:"cleanup",level:3},{value:"Need Help?",id:"need-help",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.p,{children:"To get started initially, you can run the Naptha SDK using a hosted node."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["When you're ready to run your own node, please reach out the Naptha team at ",(0,s.jsx)(n.a,{href:"mailto:team@naptha.ai",children:"team@naptha.ai"}),". We'll add you to the ",(0,s.jsx)(n.a,{href:"https://github.com/NapthaAI/node",children:"Naptha Node"})," repository. With the installation script, it's super easy to set up and takes about 5 minutes to install on a fresh instance."]})}),"\n",(0,s.jsx)(n.p,{children:"From source:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n# Clone the repository\ngit clone https://github.com/NapthaAI/node.git\ncd node\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then run the node:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bash launch.sh\n"})}),"\n",(0,s.jsx)(n.h3,{id:"first-launch-setup",children:"First Launch Setup"}),"\n",(0,s.jsx)(n.p,{children:"During your first launch, you'll be prompted to:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Generate a private key"}),"\n",(0,s.jsx)(n.li,{children:"Input a Stability API key (optional, needed for image modules examples)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If you choose not to, you can always modify the ",(0,s.jsx)(n.code,{children:".env"})," file later."]}),"\n",(0,s.jsx)(n.h3,{id:"verify-installation",children:"Verify Installation"}),"\n",(0,s.jsx)(n.p,{children:"After a few minutes, you should see:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[System] Setup complete. Applications are running.\n"})}),"\n",(0,s.jsx)(n.h3,{id:"check-server-status",children:"Check Server Status"}),"\n",(0,s.jsxs)(n.p,{children:["Before running agents and multi-agent orchestrators via the ",(0,s.jsx)(n.a,{href:"https://github.com/NapthaAI/naptha-sdk",children:"Naptha SDK"}),", you should wait to check that the\nservers set up correctly by running the following in a new terminal window."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Linux:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"journalctl -u nodeapp_http -n 100 -f\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"MacOS:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tail -n 100 -f /tmp/nodeapp_http.err\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You should see ",(0,s.jsx)(n.code,{children:"Uvicorn running on http://0.0.0.0:7001"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.p,{children:"If you get an unexpected error when running agents and multi-agent orchestrators, you can check the logs for the servers using:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"journalctl -u nodeapp_http -n 100 -f\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"On MacOS:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tail -n 100 -f /tmp/nodeapp_http.out\n"})}),"\n",(0,s.jsx)(n.h3,{id:"worker-logs",children:"Worker Logs"}),"\n",(0,s.jsx)(n.p,{children:"You can also check the logs of the workers, which may show an error if you e.g. have a bug in the code you wrote for an agent package. On Linux:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Linux:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"journalctl -u celeryworker -n 100 -f\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"MacOS:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tail -n 100 -f /tmp/celeryworker.err\n"})}),"\n",(0,s.jsx)(n.h2,{id:"managing-your-node",children:"Managing Your Node"}),"\n",(0,s.jsx)(n.h3,{id:"stopping-the-node",children:"Stopping the Node"}),"\n",(0,s.jsx)(n.p,{children:"Using systemd:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bash stop_service.sh\n"})}),"\n",(0,s.jsx)(n.p,{children:"Using docker:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bash stop_docker.sh\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cleanup",children:"Cleanup"}),"\n",(0,s.jsx)(n.p,{children:"Remove all node components:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"make remove\n"})}),"\n",(0,s.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Join our ",(0,s.jsx)(n.a,{href:"https://naptha.ai/naptha-community",children:"Community"})]}),"\n",(0,s.jsxs)(n.li,{children:["Submit issues on ",(0,s.jsx)(n.a,{href:"https://github.com/NapthaAI",children:"GitHub"})]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(6540);const a={},r=s.createContext(a);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);